=== Event Tickets with Ticket Scanner ===
Contributors: sasonikolov
Tags: event tickets, ticket scanner, QR code tickets, woocommerce tickets, seating plan
Requires PHP: 8.1
Stable tag: 2.8.7
Tested up to: 6.9
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html

Sell event tickets with WooCommerce. Design seating plans, generate PDF tickets with QR codes, and scan them at the door. No per-ticket fees.

== Description ==

**Stop paying per-ticket fees. Own your entire ticketing workflow inside WordPress.**

Event Tickets with Ticket Scanner turns any WooCommerce product into a scannable event ticket â€” complete with QR code, downloadable PDF, and a built-in mobile ticket scanner for your team at the door.

Unlike platforms like Eventbrite or Ticketmaster, you keep 100% of your revenue. Unlike other WordPress plugins, you get a **visual seating plan designer** and a **ticket PDF designer** included â€” not as expensive add-ons.

https://youtu.be/uWSdKdOyn70

**Used by 1,000+ event organizers worldwide** â€” from small community events to large concert venues. Rated â­ 4.9/5 on WordPress.org.

= Who is this for? =

* **Concert & festival organizers** â€” sell general admission or assigned seats with interactive seat selection
* **Theaters & venues** â€” design your seating layout with drag & drop, let customers pick their seats
* **Sports events & arenas** â€” handle high volumes with offline fallback and team scanner access
* **Clubs, spas, gyms & theme parks** â€” sell multi-entry passes, family tickets, or memberships with expiration
* **Community events & fundraisers** â€” get started in minutes with the free version

= How it works â€” 3 steps =

1. Install the plugin and create a ticket list under "Event Tickets"
2. Enable "Ticket Sales" on any WooCommerce product
3. Customers receive a unique QR code ticket â€” scan and redeem at the entrance

That's it. No coding required. [Watch the quickstart video](https://youtu.be/KKLp1Lwqj_U)

= ðŸŽ¨ Visual Seating Plan Designer =

Create professional venue layouts without any design tools:

* Drag & drop seats, shapes, labels, and text onto your canvas
* Upload venue floor plans as background images
* Rotate, duplicate, and bulk-edit elements
* Color-code seat categories and pricing tiers
* Customers see a **real-time interactive seat map** during checkout
* Seats are automatically blocked during checkout and released on cancel/refund

= ðŸŽŸï¸ Ticket PDF Designer =

Design tickets that match your brand â€” not generic templates:

* Add your logo, custom colors, header and background images
* Position QR codes exactly where you want them
* Create event badges for staff and VIP passes
* Multi-page PDF support with attached documents
* Full bleed mode for edge-to-edge designs

= ðŸ“± Built-in Ticket Scanner =

No extra app needed. The scanner runs in any mobile browser â€” or install it as a PWA:

* Scan QR codes with your phone camera â€” works on iOS and Android
* **Install as PWA** â€” add to home screen for instant launch without browser chrome
* **Fullscreen mode** â€” immersive scanning with a single tap
* **Haptic feedback** â€” vibration confirms valid/invalid tickets instantly
* Grant team members scanner access via Auth Tokens (no WordPress login needed)
* See ticket details, seat position, and venue map instantly after scan
* Voice output confirms valid/invalid tickets for fast processing
* Protection against fake tickets, double redemption, and brute-force attempts
* Supports hardware barcode scanners for high-traffic entrances
* Customizable theme color to match your brand

= Powerful Ticket Types =

* **Single entry** â€” classic one-time event ticket
* **Multi-entry passes** â€” allow multiple scans (configurable limit)
* **Family tickets** â€” generate multiple tickets per order item
* **Memberships & season passes** â€” set expiration dates
* **Day chooser tickets** â€” let customers pick their event date at checkout
* **Purchase allowance codes** â€” restrict who can buy specific products

= Built for WooCommerce =

* Works with product variants (e.g., VIP vs. General Admission)
* Tickets auto-generate on order completion
* Refunded orders automatically recover and recycle ticket numbers
* Compatible with WooCommerce Subscriptions
* Works with WooCommerce PDF Invoices & Packing Slips
* WPML compatible for multilingual stores

= Free vs. Premium =

The free version covers everything you need to start selling tickets:

* âœ… Ticket generation with QR codes
* âœ… PDF ticket download (via link in email)
* âœ… Built-in ticket scanner
* âœ… Interactive seating plan designer
* âœ… Seat selection at checkout
* âœ… Multi-entry and family tickets
* âœ… Day chooser for date-based events
* âœ… Webhooks for third-party integrations

**Premium adds professional features for larger events:**

* ðŸ”“ PDF ticket as email attachment (not just a link)
* ðŸ”“ Team scanner access via Auth Tokens
* ðŸ”“ Calendar invites (ICS files) in emails
* ðŸ”“ Custom flyers and multi-page PDFs
* ðŸ”“ CVV security check on tickets
* ðŸ”“ Brute-force IP blocking
* ðŸ”“ No ticket limits
* ðŸ”“ Advanced shortcodes for ticket display and validation

[Get Premium](https://vollstart.com/event-tickets-with-ticket-scanner/)

= Links =

* [Documentation](https://vollstart.com/event-tickets-with-ticket-scanner/docs/)
* [Quickstart Video](https://youtu.be/KKLp1Lwqj_U)
* [All Features](https://vollstart.com/event-tickets-with-ticket-scanner/docs/event-tickets-with-ticket-scanner-feature-list/)
* [Premium Plugin](https://vollstart.com/event-tickets-with-ticket-scanner/)
* [Support](mailto:support@vollstart.com)

== Installation ==

= Requirements =
* WordPress 5.0 or greater
* WooCommerce 6.0 or greater
* PHP 8.1 or greater (PHP 8.4 compatible)
* PHP extensions: php-curl, php-imagick

= Installation =

1. Go to **Plugins â†’ Add New** in your WordPress admin
2. Search for "Event Tickets with Ticket Scanner"
3. Click **Install Now**, then **Activate**
4. Go to **Event Tickets** in your admin menu and create your first ticket list
5. Edit any WooCommerce product â†’ open the **Event Tickets** tab â†’ enable ticket sales

= Quick Setup =

The plugin extends WooCommerce so any product can become a ticket. Enable the checkbox on your product, assign a ticket list, and you're ready to sell.

**Tip:** Set the product as "Virtual" so WooCommerce auto-completes the order and triggers ticket generation immediately after payment.

To test: Create a manual order in WooCommerce, set it to "Completed", and check the order email for the ticket link.

**For a step-by-step walkthrough, [watch the quickstart video](https://vollstart.com/event-tickets-with-ticket-scanner/docs/#quickstart).**

== Frequently Asked Questions ==

= Do I need any other plugins? =
You need WooCommerce (free) to handle payments and orders. Everything else is included â€” no additional ticketing add-ons required.

= Does this work without WooCommerce? =
WooCommerce is required for selling tickets. However, you can use the plugin to manage and validate ticket lists manually without WooCommerce sales.

= Can my team scan tickets without a WordPress account? =
Yes! Premium includes Auth Tokens that give your door staff scanner access via a simple URL â€” no login required.

= Does the scanner work offline? =
The scanner is browser-based and requires an internet connection. For large events, the plugin includes offline fallback options to prevent interruptions.

= Can customers choose their own seats? =
Yes. Design your venue layout with the drag & drop seating designer, and customers will see an interactive seat map during checkout where they can pick available seats.

= What ticket types can I create? =
Single entry, multi-entry passes, family tickets (multiple tickets per purchase), memberships with expiration dates, and day-chooser tickets where customers pick their event date.

= How are tickets delivered to customers? =
In the free version, the order confirmation email includes a link to download the ticket PDF and view the QR code. Premium allows attaching the PDF directly to the email and adding calendar invites (ICS).

= What happens when an order is refunded? =
The ticket is automatically deactivated, the assigned seat is released, and the ticket number is recovered for reuse.

= Is the plugin compatible with WPML? =
Yes. WPML is supported for multilingual ticket sales. The scanner also supports multiple languages including German, Spanish, French, Italian, Japanese, Dutch, Portuguese, and Chinese.

= What if I exceed the free ticket limit? =
If you reach the limit, the plugin will display a message asking the customer to contact support. Your sales are never interrupted. Premium has no ticket limits.

= Can I use my own QR code or barcode scanner hardware? =
Yes. The built-in scanner page accepts input from hardware barcode scanners in addition to camera-based QR scanning.

= How do I prevent ticket fraud? =
Every ticket number is unique. The scanner detects duplicate redemption attempts. Premium adds CVV verification and brute-force IP blocking for additional security.

== Screenshots ==

1. **Ticket on Mobile** â€” Customers see their ticket details optimized for any device, with QR code and PDF download.
2. **Ticket Details Desktop** â€” Configure exactly which information appears on the ticket detail page.
3. **PDF Ticket** â€” Professionally designed PDF ticket with QR code, ready for print or mobile display.
4. **Ticket Scanner** â€” Built-in mobile scanner for your team at the entrance. No app required.
5. **Event Badge** â€” Print name badges for conferences, VIP events, or staff credentials.
6. **Admin Options** â€” Comprehensive settings to configure ticket behavior, formats, and delivery.
7. **Ticket Management** â€” Overview of all generated tickets with status, redemption info, and filters.
8. **Ticket Number Formats** â€” Pre-generate ticket numbers or let the plugin create them automatically.
9. **Event Flyer** â€” Generate promotional flyers for your event directly from the plugin.
10. **PDF Designer** â€” Customize every area of your ticket PDF: logo, images, QR position, colors.
11. **Product Settings** â€” Enable ticket sales on any WooCommerce product with one checkbox.
12. **Flyer Settings** â€” Configure flyer content, images, and event details.
13. **Order Ticket View** â€” Quick-scan tickets directly from the WooCommerce order detail page.

== Upgrade Notice ==

= 2.8.0 =
Major release: Interactive seating plan designer with drag & drop editor. Default ticket template updated to display seat numbers. Please backup your system before upgrading.

== Changelog ==

= 2.8.7 - 2026-02-16 =
* New: PWA (Progressive Web App) support â€” install the ticket scanner as a home screen app on mobile devices (optional, enable in settings)
* New: Fullscreen mode button for the ticket scanner â€” immersive scanning without browser chrome
* New: Haptic feedback (vibration) on scan result â€” different patterns for success and failure
* New: Customizable scanner theme color â€” affects PWA status bar, loading spinner, and scanner buttons
* New: Expanded FAQ with 7 categories and 21 questions covering scanner setup, PDF design, WooCommerce, webhooks, and more
* Improved: Scanner HTML now uses proper DOCTYPE, charset, and viewport meta tags
* Improved: Scanner assets (JS libraries, CSS, images) cached by service worker for faster loading
* Security: Hardened premium license revalidation with independent subscription verification
* Security: Added HMAC checksum protection against license data tampering in database
* Fix: Resolved infinite recursion during plugin initialization when premium plugin is active
* Fix: Translation loading no longer triggers WordPress 6.7+ "too early" notice
* Fix: License checksum verification now stable across CLI and web contexts
* Fix: License server response now correctly overrides local data (fixed array_merge order)
* Fix: API connection failures are now tracked; premium deactivates after 5 consecutive failures
* Fix: Admin page loads now trigger license check if last check was >24h ago (cron fallback)
* Fix: License key input field now always visible when premium plugin is installed

= 2.8.6 - 2026-02-11 =
* New: Full bleed mode option for ticket designer â€” removes ALL margins for edge-to-edge background images.
* New: Separate full bleed option for test ticket designer.
* New: Ticket background color option â€” set a custom background color for PDF tickets, badges, and flyers.
* New: Ticket number format exhaustion warning â€” alerts admin when ticket format is running out of combinations (counter-based detection).
* New: Automatic email notifications when ticket format reaches 50% capacity or is exhausted (once per day).
* New: Admin notice with dismiss button for format warnings, includes direct link to edit ticket list.
* New: Format warning auto-clears when ticket list is manually saved (user likely adjusted formatter).
* Security: Fixed unauthenticated REST endpoint that exposed admin dispatcher (CVSS 9 â€” reported by Patchstack).
* Security: REST permission callback now requires authentication (login or authtoken) by default.
* Security: Added capability guards for sensitive admin actions (defense in depth).
* Security: Removed wp_rest nonce fallback from admin action handler.

= 2.8.5 - 2026-01-26 =
* Fix: Fatal error on non-premium installations when SASO_EVENTTICKETS_PREMIUM_PLUGIN_VERSION constant is undefined.
* Improved: VollstartValidatorDebug URL parameter now passed through to AJAX requests for easier debugging.

= 2.8.4 - 2026-01-26 =
* New: Seating plan visualization in ticket scanner â€” view venue map with highlighted seat position.
* New: Option to enable/disable seating plan button in scanner.
* New: Option to enable/disable venue image button in scanner.
* Improved: Seating plan data loaded on demand (lazy loading) for better scanner performance.
* New: Shortcode parameter `order_id` for [sasoEventTicketsValidator_code] to display tickets from a specific order.
* New: Shortcode [sasoEventTicketsValidator_ticket_detail] to display ticket detail view on any page.
* Fix: Date localization now correctly displays translated month/day names while maintaining correct timezone handling.
* Fix: Fatal error in removeUsedInformationFromCode() when changing order status.

= 2.8.3 - 2026-01-22 =
* New: Seating Designer â€” Element rotation (0-359Â°) with preset buttons.
* New: Seating Designer â€” Group rotation (rotate multiple selected elements around their common center).
* New: Seating Designer â€” Bulk property editing when multiple elements are selected.
* New: Seating Designer â€” Duplicate selection for groups (copy multiple elements at once).
* New: Seating Designer â€” Enhanced visual feedback for multi-selected elements.
* Improved: Seating API now uses unified bulk operations for better performance.
* Fix: PDF QR code compatibility with third-party FPDI libraries.
* Fix: Event times displayed incorrectly due to double timezone conversion in ticket templates.

= 2.8.2 - 2026-01-21 =
* New: Clone/duplicate seating plans with all seats and layout.
* New: Batch operations for seats (activate, deactivate, delete multiple seats at once).
* New: Premium subscription expiration check with admin warnings and grace period.
* New: Lifetime license support.
* New: Delete All Tickets button on ticket list with double confirmation.
* New: Shortcode parameter download_all_pdf for downloading all user tickets as one PDF.
* New: Safety check when deleting ticket lists â€” warns if list is still assigned to products.
* Fix: Restored deprecated methods for backward compatibility with older premium plugin versions.

= 2.8.1 - 2026-01-20 =
* Fix: PHP 8.4 compatibility â€” explicit nullable type for REST API parameter.

= 2.8.0 - 2026-01-20 =
* New: Interactive seating plan designer with drag & drop editor for creating venue layouts.
* New: Let customers choose their seats during checkout with visual seat selection.
* New: Seat information displayed on PDF tickets, in emails, and in the ticket scanner.
* New: Automatic seat blocking during checkout with configurable timeout.
* New: Seat release on order cancel or refund.
* New: Seating plan support on shop/archive pages.
* New: Voice output for the ticket scanner.
* Improved: Security checks for admin area access.
* Improved: Public ticket number now displayed in emails instead of internal ticket number.
* Fix: Ticket list description slashes.
* Fix: Customer search in admin backend.